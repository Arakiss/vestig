@import "tailwindcss";

/* ═══════════════════════════════════════════════════════════════════════════
   VESTIG - Global Styles
   Tailwind CSS 4.1 with OKLCH Colors (Pure Monochromatic Theme)
   ═══════════════════════════════════════════════════════════════════════════ */

@custom-variant dark (&:is(.dark *));

/* ═══════════════════════════════════════════════════════════════════════════
   @theme - All design tokens using OKLCH for color accuracy
   Chroma = 0 ensures PURE neutrals with NO color tint
   ═══════════════════════════════════════════════════════════════════════════ */

@theme {
	/* ─────────────────────────────────────────────────────────────────────────
	   Core Colors - Near Black (softer than pure black)
	   ───────────────────────────────────────────────────────────────────────── */
	--color-background: oklch(0.1 0 0);
	--color-foreground: oklch(0.95 0 0);

	/* ─────────────────────────────────────────────────────────────────────────
	   UI Colors
	   ───────────────────────────────────────────────────────────────────────── */
	--color-border: oklch(0.3 0 0);
	--color-input: oklch(0.18 0 0);
	--color-ring: oklch(0.95 0 0);

	/* ─────────────────────────────────────────────────────────────────────────
	   Primary - Soft White on Dark
	   ───────────────────────────────────────────────────────────────────────── */
	--color-primary: oklch(0.95 0 0);
	--color-primary-foreground: oklch(0.15 0 0);

	/* ─────────────────────────────────────────────────────────────────────────
	   Secondary - Elevated Gray
	   ───────────────────────────────────────────────────────────────────────── */
	--color-secondary: oklch(0.18 0 0);
	--color-secondary-foreground: oklch(0.95 0 0);

	/* ─────────────────────────────────────────────────────────────────────────
	   Muted - Medium Gray
	   ───────────────────────────────────────────────────────────────────────── */
	--color-muted: oklch(0.25 0 0);
	--color-muted-foreground: oklch(0.55 0 0);

	/* ─────────────────────────────────────────────────────────────────────────
	   Accent - Lighter Gray
	   ───────────────────────────────────────────────────────────────────────── */
	--color-accent: oklch(0.28 0 0);
	--color-accent-foreground: oklch(0.95 0 0);

	/* ─────────────────────────────────────────────────────────────────────────
	   Destructive
	   ───────────────────────────────────────────────────────────────────────── */
	--color-destructive: oklch(0.65 0.2 25);
	--color-destructive-foreground: oklch(0.95 0 0);

	/* ─────────────────────────────────────────────────────────────────────────
	   Popover & Card - Darker surfaces (cards are darker than background)
	   ───────────────────────────────────────────────────────────────────────── */
	--color-popover: oklch(0.16 0 0);
	--color-popover-foreground: oklch(0.95 0 0);
	--color-card: oklch(0.16 0 0);
	--color-card-foreground: oklch(0.95 0 0);

	/* ─────────────────────────────────────────────────────────────────────────
	   Surface Layers (cards darker than background, like simplelist)
	   ───────────────────────────────────────────────────────────────────────── */
	--color-surface: oklch(0.14 0 0);
	--color-surface-elevated: oklch(0.18 0 0);
	--color-surface-overlay: oklch(0.12 0 0);

	/* ─────────────────────────────────────────────────────────────────────────
	   Brand Colors - Soft White (Minimalist)
	   ───────────────────────────────────────────────────────────────────────── */
	--color-brand: oklch(0.95 0 0);
	--color-brand-foreground: oklch(0.1 0 0);
	--color-brand-muted: oklch(0.65 0 0);
	--color-brand-glow: oklch(0.95 0 0);

	/* ─────────────────────────────────────────────────────────────────────────
	   Grid Colors (subtle grays)
	   ───────────────────────────────────────────────────────────────────────── */
	--color-grid-line: oklch(0.22 0 0);
	--color-grid-node: oklch(0.45 0 0);

	/* ─────────────────────────────────────────────────────────────────────────
	   Code Syntax Highlighting (keeping some color for readability)
	   ───────────────────────────────────────────────────────────────────────── */
	--color-accent-amber: oklch(0.75 0.15 85);
	--color-accent-emerald: oklch(0.7 0.15 160);
	--color-accent-red: oklch(0.65 0.2 25);

	/* ─────────────────────────────────────────────────────────────────────────
	   Sidebar (neutral grays, NO blue tint)
	   ───────────────────────────────────────────────────────────────────────── */
	--color-sidebar: oklch(0.08 0 0);
	--color-sidebar-foreground: oklch(0.85 0 0);
	--color-sidebar-primary: oklch(0.95 0 0);
	--color-sidebar-primary-foreground: oklch(0.1 0 0);
	--color-sidebar-accent: oklch(0.14 0 0);
	--color-sidebar-accent-foreground: oklch(0.85 0 0);
	--color-sidebar-border: oklch(0.22 0 0);
	--color-sidebar-ring: oklch(0.95 0 0);

	/* ─────────────────────────────────────────────────────────────────────────
	   Radius - Sharp Corners (Lyra style)
	   ───────────────────────────────────────────────────────────────────────── */
	--radius-lg: 0px;
	--radius-md: 0px;
	--radius-sm: 0px;

	/* ─────────────────────────────────────────────────────────────────────────
	   Typography
	   ───────────────────────────────────────────────────────────────────────── */
	--font-sans: var(--font-sans), ui-sans-serif, system-ui, sans-serif;
	--font-display: var(--font-display), var(--font-sans), ui-sans-serif, system-ui, sans-serif;
	--font-logo: var(--font-logo), var(--font-display), ui-sans-serif, system-ui, sans-serif;
	--font-mono: var(--font-mono), ui-monospace, monospace;

	/* ─────────────────────────────────────────────────────────────────────────
	   Shadows
	   ───────────────────────────────────────────────────────────────────────── */
	--shadow-inner: inset 0 2px 4px 0 oklch(0 0 0 / 0.1);
	--shadow-inner-lg: inset 0 4px 8px 0 oklch(0 0 0 / 0.15);

	/* ─────────────────────────────────────────────────────────────────────────
	   Animations
	   ───────────────────────────────────────────────────────────────────────── */
	--animate-accordion-down: accordion-down 0.2s ease-out;
	--animate-accordion-up: accordion-up 0.2s ease-out;
	--animate-fade-in: fade-in 0.3s ease-out;
	--animate-fade-out: fade-out 0.3s ease-out;
	--animate-slide-in-from-top: slide-in-from-top 0.3s ease-out;
	--animate-slide-in-from-bottom: slide-in-from-bottom 0.3s ease-out;
	--animate-pulse-subtle: pulse-subtle 2s ease-in-out infinite;
	--animate-flow-pulse: flow-pulse 2s ease-in-out infinite;
	--animate-node-glow: node-glow 2s ease-in-out infinite;
	--animate-line-draw: line-draw 0.8s ease-out forwards;

	--backdrop-blur-xs: 2px;
	--transition-duration-250: 250ms;
	--transition-duration-350: 350ms;

	/* Keyframes */
	@keyframes accordion-down {
		from {
			height: 0;
		}
		to {
			height: var(--radix-accordion-content-height);
		}
	}
	@keyframes accordion-up {
		from {
			height: var(--radix-accordion-content-height);
		}
		to {
			height: 0;
		}
	}
	@keyframes fade-in {
		from {
			opacity: 0;
		}
		to {
			opacity: 1;
		}
	}
	@keyframes fade-out {
		from {
			opacity: 1;
		}
		to {
			opacity: 0;
		}
	}
	@keyframes slide-in-from-top {
		from {
			transform: translateY(-10px);
			opacity: 0;
		}
		to {
			transform: translateY(0);
			opacity: 1;
		}
	}
	@keyframes slide-in-from-bottom {
		from {
			transform: translateY(10px);
			opacity: 0;
		}
		to {
			transform: translateY(0);
			opacity: 1;
		}
	}
	@keyframes pulse-subtle {
		0%,
		100% {
			opacity: 1;
		}
		50% {
			opacity: 0.7;
		}
	}
	@keyframes flow-pulse {
		0%,
		100% {
			opacity: 0.3;
		}
		50% {
			opacity: 0.8;
		}
	}
	@keyframes node-glow {
		0%,
		100% {
			box-shadow: 0 0 0 0 oklch(0.95 0 0 / 0.4);
		}
		50% {
			box-shadow: 0 0 20px 5px oklch(0.95 0 0 / 0.2);
		}
	}
	@keyframes line-draw {
		from {
			transform: scaleX(0);
			opacity: 0;
		}
		to {
			transform: scaleX(1);
			opacity: 1;
		}
	}
}

/* ═══════════════════════════════════════════════════════════════════════════
   Base Styles
   ═══════════════════════════════════════════════════════════════════════════ */

@layer base {
	*,
	::after,
	::before,
	::backdrop,
	::file-selector-button {
		border-color: var(--color-border);
	}

	html {
		scroll-behavior: smooth;
	}

	body {
		@apply bg-background text-foreground antialiased;
		font-feature-settings: "rlig" 1, "calt" 1;
	}

	::selection {
		background: oklch(0.95 0 0 / 0.2);
		color: oklch(0.95 0 0);
	}

	:focus-visible {
		@apply outline-none ring-2 ring-ring ring-offset-2 ring-offset-background;
	}
}

/* ═══════════════════════════════════════════════════════════════════════════
   Component Styles
   ═══════════════════════════════════════════════════════════════════════════ */

@layer components {
	pre {
		@apply font-mono bg-surface p-4 overflow-x-auto border border-border;
	}

	code {
		@apply font-mono text-sm;
	}

	:not(pre) > code {
		@apply bg-surface-elevated px-1.5 py-0.5;
		color: oklch(0.9 0 0);
	}
}

/* ═══════════════════════════════════════════════════════════════════════════
   Custom Utilities
   ═══════════════════════════════════════════════════════════════════════════ */

@utility container {
	margin-inline: auto;
	padding-inline: 2rem;
	@media (width >= 1400px) {
		max-width: 1400px;
	}
}

@utility container-narrow {
	@apply max-w-3xl mx-auto px-4 sm:px-6;
}

@utility container-wide {
	@apply max-w-7xl mx-auto px-4 sm:px-6 lg:px-8;
}

@utility scrollbar-thin {
	scrollbar-width: thin;
	scrollbar-color: oklch(0.3 0 0) transparent;

	&::-webkit-scrollbar {
		width: 6px;
		height: 6px;
	}
	&::-webkit-scrollbar-track {
		background: transparent;
	}
	&::-webkit-scrollbar-thumb {
		background: oklch(0.95 0 0 / 0.1);
		border-radius: 3px;
	}
	&::-webkit-scrollbar-thumb:hover {
		background: oklch(0.95 0 0 / 0.2);
	}
}

@utility glass {
	background: oklch(0.12 0 0 / 0.8);
	backdrop-filter: blur(12px);
	border: 1px solid oklch(0.95 0 0 / 0.08);
}

@utility glass-elevated {
	background: oklch(0.16 0 0 / 0.9);
	backdrop-filter: blur(16px);
	border: 1px solid oklch(0.95 0 0 / 0.1);
}

@utility badge-brand {
	background: oklch(0.95 0 0 / 0.1);
	border: 1px solid oklch(0.95 0 0 / 0.2);
	color: oklch(0.95 0 0);
}

@utility badge-subtle {
	background: oklch(0.95 0 0 / 0.05);
	border: 1px solid oklch(0.95 0 0 / 0.1);
	color: oklch(0.95 0 0 / 0.7);
}

@utility section-divider {
	height: 1px;
	background: linear-gradient(90deg, transparent, oklch(0.95 0 0 / 0.1), transparent);
}

@utility card-interactive {
	background: oklch(0.12 0 0);
	border: 1px solid oklch(0.95 0 0 / 0.1);
	transition: all 0.2s;

	&:hover {
		border-color: oklch(0.95 0 0 / 0.2);
		background: oklch(0.95 0 0 / 0.05);
	}
}

/* Blueprint Grid - Clean (no visible pattern) */
@utility blueprint-grid {
	background-image: none;
}
@utility blueprint-grid-dense {
	background-image: none;
}
@utility blueprint-grid-sparse {
	background-image: none;
}

/* Corner Markers */
@utility corner-marker {
	position: relative;

	&::before,
	&::after {
		content: "";
		position: absolute;
		width: 16px;
		height: 16px;
		border-color: oklch(0.95 0 0 / 0.15);
		pointer-events: none;
	}

	&::before {
		top: 0;
		left: 0;
		border-top: 1px solid;
		border-left: 1px solid;
	}

	&::after {
		bottom: 0;
		right: 0;
		border-bottom: 1px solid;
		border-right: 1px solid;
	}
}

/* Glow Effects */
@utility glow-brand {
	box-shadow: 0 0 20px oklch(0.95 0 0 / 0.1), 0 0 40px oklch(0.95 0 0 / 0.05);
}

@utility glow-brand-subtle {
	box-shadow: 0 0 10px oklch(0.95 0 0 / 0.08);
}

/* ═══════════════════════════════════════════════════════════════════════════
   Playground Glassmorphism - Indigo/Violet Accents
   ═══════════════════════════════════════════════════════════════════════════ */

/* Glass Cards with Color */
@utility glass-card {
	background: oklch(0.15 0.01 280 / 0.6);
	backdrop-filter: blur(16px);
	border: 1px solid oklch(0.95 0 0 / 0.08);
	box-shadow: 0 8px 32px oklch(0 0 0 / 0.3);
}

@utility glass-card-hover {
	transition: all 0.3s ease;

	&:hover {
		background: oklch(0.18 0.01 280 / 0.7);
		border-color: oklch(0.95 0 0 / 0.12);
		box-shadow: 0 12px 40px oklch(0 0 0 / 0.4);
	}
}

@utility glass-card-glow {
	background: oklch(0.15 0.02 275 / 0.6);
	backdrop-filter: blur(16px);
	border: 1px solid oklch(0.6 0.2 270 / 0.3);
	box-shadow: 0 8px 32px oklch(0 0 0 / 0.3), 0 0 30px oklch(0.6 0.2 270 / 0.15);
}

/* Gradient Backgrounds */
@utility gradient-indigo-violet {
	background: linear-gradient(135deg, oklch(0.55 0.2 265) 0%, oklch(0.55 0.2 290) 100%);
}

@utility gradient-text-indigo {
	background: linear-gradient(135deg, oklch(0.7 0.2 265) 0%, oklch(0.65 0.2 290) 100%);
	-webkit-background-clip: text;
	background-clip: text;
	-webkit-text-fill-color: transparent;
}

@utility gradient-text-white {
	background: linear-gradient(135deg, oklch(0.98 0 0) 0%, oklch(0.7 0 0) 100%);
	-webkit-background-clip: text;
	background-clip: text;
	-webkit-text-fill-color: transparent;
}

/* Glow Effects - Colored */
@utility glow-indigo {
	box-shadow: 0 4px 20px oklch(0.55 0.2 265 / 0.3), 0 8px 40px oklch(0.55 0.2 265 / 0.15);
}

@utility glow-indigo-hover {
	transition: box-shadow 0.3s ease;

	&:hover {
		box-shadow: 0 4px 25px oklch(0.55 0.2 265 / 0.4), 0 8px 50px oklch(0.55 0.2 265 / 0.2);
	}
}

/* Status Colors */
@utility status-good {
	color: oklch(0.7 0.2 160);
}

@utility status-needs-improvement {
	color: oklch(0.75 0.18 85);
}

@utility status-poor {
	color: oklch(0.65 0.22 25);
}

@utility bg-status-good {
	background: oklch(0.7 0.2 160 / 0.1);
	border-color: oklch(0.7 0.2 160 / 0.2);
}

@utility bg-status-warning {
	background: oklch(0.75 0.18 85 / 0.1);
	border-color: oklch(0.75 0.18 85 / 0.2);
}

@utility bg-status-poor {
	background: oklch(0.65 0.22 25 / 0.1);
	border-color: oklch(0.65 0.22 25 / 0.2);
}

/* Breadcrumb Categories */
@utility breadcrumb-navigation {
	color: oklch(0.7 0.15 200);
}

@utility breadcrumb-click {
	color: oklch(0.7 0.15 270);
}

@utility breadcrumb-fetch {
	color: oklch(0.7 0.2 160);
}

@utility breadcrumb-error {
	color: oklch(0.65 0.22 25);
}

@utility breadcrumb-input {
	color: oklch(0.75 0.15 85);
}

/* Pill Buttons */
@utility pill {
	border-radius: 9999px;
	padding: 0.75rem 2rem;
	border: 1px solid oklch(0.95 0 0 / 0.2);
	transition: all 0.2s;

	&:hover {
		border-color: oklch(0.95 0 0 / 0.4);
		background: oklch(0.95 0 0 / 0.05);
	}
}

@utility pill-sm {
	border-radius: 9999px;
	padding: 0.5rem 1.5rem;
	border: 1px solid oklch(0.95 0 0 / 0.2);
}

@utility pill-lg {
	border-radius: 9999px;
	padding: 1rem 3rem;
	border: 1px solid oklch(0.95 0 0 / 0.2);
}

/* Animation Delays */
@utility animation-delay-100 {
	animation-delay: 100ms;
}
@utility animation-delay-200 {
	animation-delay: 200ms;
}
@utility animation-delay-300 {
	animation-delay: 300ms;
}
@utility animation-delay-500 {
	animation-delay: 500ms;
}
@utility animation-delay-700 {
	animation-delay: 700ms;
}
@utility animation-delay-1000 {
	animation-delay: 1000ms;
}

/* Text Utilities */
@utility text-balance {
	text-wrap: balance;
}
@utility text-pretty {
	text-wrap: pretty;
}

/* Hide Scrollbar */
@utility no-scrollbar {
	-ms-overflow-style: none;
	scrollbar-width: none;

	&::-webkit-scrollbar {
		display: none;
	}
}

/* Line Clamp */
@utility line-clamp-1 {
	overflow: hidden;
	display: -webkit-box;
	-webkit-box-orient: vertical;
	-webkit-line-clamp: 1;
}

@utility line-clamp-2 {
	overflow: hidden;
	display: -webkit-box;
	-webkit-box-orient: vertical;
	-webkit-line-clamp: 2;
}

@utility line-clamp-3 {
	overflow: hidden;
	display: -webkit-box;
	-webkit-box-orient: vertical;
	-webkit-line-clamp: 3;
}
